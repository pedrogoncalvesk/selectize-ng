/*! selectize-ng - v0.1.0 - 2017-01-23 | https://github.com/kbanman/selectize-ng.git | MIT License */
function factory(a,b){return a.module("selectize-ng",[]).directive("selectize",function(){"use strict";return{restrict:"A",require:"ngModel",scope:{selectize:"&",options:"&"},link:function(b,c,d,e){function f(a){n||(b.$parent.$apply(function(){e.$setViewValue(a)}),"single"===o.mode&&p.blur())}function g(b){return a.isArray(b)?b:b?String(b).split(o.delimiter):[]}function h(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1}function i(a,b){return h(a,b)!==-1}function j(a,b){a.map(function(a){i(b,a)||i(q,a)||q.push(a)})}function k(a,b){var c,d;for(c=0;c<a.length;c++)d=h(q,a[c][p.settings.valueField]),d!==-1&&(b.push(a[c][p.settings.valueField]),q.splice(d,1))}function l(a){var b=g(a);n||b===g(p.getValue())||(n=!0,setTimeout(function(){p.setValue(b),n=!1,j(b,g(p.getValue()))}))}function m(a){var b=g(e.$viewValue);p.addOption(a),p.refreshOptions(!1),"multi"===o.mode&&a&&k(a,b),l(b)}var n,o,p,q=[];o=a.extend({delimiter:",",persist:!0,mode:"SELECT"===c[0].tagName?"single":"multi"},b.selectize()||{}),p=c.selectize(o)[0].selectize,p.on("change",function(){f(p.getValue())}),b.$parent.$watch(d.ngModel,l),d.options&&b.$parent.$watchCollection(d.options,m),b.$on("$destroy",function(){p.destroy()})}}})}"function"==typeof define&&define.amd?define(["angular","selectize"],factory):factory();